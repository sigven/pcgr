<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Installation • PCGR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Installation">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7HRLE8GQRE"></script><script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());

   gtag('config', 'G-7HRLE8GQRE');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-info" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PCGR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/installation.html">Installation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/running.html">Running</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/input.html">Input files</a></li>
    <li><a class="dropdown-item" href="../articles/output.html">Output files</a></li>
    <li><a class="dropdown-item" href="../articles/variant_classification.html">Variant classification</a></li>
    <li><a class="dropdown-item" href="../articles/annotation_resources.html">Annotation resources</a></li>
    <li><a class="dropdown-item" href="../articles/developers.html">Developer notes</a></li>
    <li><a class="dropdown-item" href="../articles/primary_tumor_sites.html">Primary tumor sites</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/faq.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/CHANGELOG.html">CHANGELOG</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sigven/pcgr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Installation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sigven/pcgr/blob/main/vignettes/installation.Rmd" class="external-link"><code>vignettes/installation.Rmd</code></a></small>
      <div class="d-none name"><code>installation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>PCGR requires the following data to run successfully:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Reference bundle</strong> - containing data from multiple
knowledge resources, including information on molecular biomarkers,
targeted cancer therapies, variant frequencies etc. Key datasets include
<a href="https://civicdb.org" class="external-link">CIViC</a>, <a href="https://www.cancergenomeinterpreter.org/biomarkers" class="external-link">CGI</a>, <a href="https://platform.opentargets.org" class="external-link">Open Targets Platform</a>, <a href="https://portal.gdc.cancer.gov/" class="external-link">TCGA</a>, and <a href="https://www.ncbi.nlm.nih.gov/clinvar/" class="external-link">ClinVar</a>.</li>
<li>
<strong>Ensembl VEP data cache</strong> - needed for variant
annotation with VEP (Variant Effect Predictor)</li>
<li>
<strong>User-supplied sample-specific inputs</strong> - e.g. somatic
variant calls in VCF format</li>
</ol>
<p>PCGR supports both the GRCh37 and GRCh38 human genome assemblies. All
the data above need to match the chosen assembly.</p>
<div class="section level3">
<h3 id="reference-bundle">1. Reference Bundle<a class="anchor" aria-label="anchor" href="#reference-bundle"></a>
</h3>
<p>Reference bundles are generated semi-automatically (by the PCGR
author) and are versioned based on their release date. Keep in mind that
the bundles support only certain Ensembl VEP versions. The latest
(<strong>v20240927</strong>) genome-specific bundles can be downloaded
directly from below (size: ~4G):</p>
<table class="table">
<colgroup>
<col width="27%">
<col width="72%">
</colgroup>
<thead><tr class="header">
<th align="left">Assembly</th>
<th align="left">Download Link</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">GRCh38</td>
<td align="left"><a href="https://insilico.hpc.uio.no/pcgr/pcgr_ref_data.20240927.grch38.tgz" class="external-link uri">https://insilico.hpc.uio.no/pcgr/pcgr_ref_data.20240927.grch38.tgz</a></td>
</tr>
<tr class="even">
<td align="left">GRCh37</td>
<td align="left"><a href="https://insilico.hpc.uio.no/pcgr/pcgr_ref_data.20240927.grch37.tgz" class="external-link uri">https://insilico.hpc.uio.no/pcgr/pcgr_ref_data.20240927.grch37.tgz</a></td>
</tr>
</tbody>
</table>
<p><strong>Tip 1</strong>: The
<code>data/grch3x/.PCGR_BUNDLE_VERSION</code> file within the downloaded
bundle indicates the bundle version for reporting purposes.</p>
<p><strong>Tip 2</strong>: The
<code>data/grch3x/data_overview.grch3x.html</code> file provides a
report with an overview and statistics of the key resources included in
the reference bundle.</p>
<div class="section level4">
<h4 id="bash-example">Bash Example<a class="anchor" aria-label="anchor" href="#bash-example"></a>
</h4>
<pre><code><span><span class="va">BUNDLE_VERSION</span><span class="op">=</span><span class="st">"20240927"</span></span></code></pre>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="va">GENOME</span><span class="op">=</span><span class="st">"grch38"</span> <span class="co"># or "grch37"</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="va">BUNDLE</span><span class="op">=</span><span class="st">"pcgr_ref_data.</span><span class="va">${BUNDLE_VERSION}</span><span class="st">.</span><span class="va">${GENOME}</span><span class="st">.tgz"</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">wget</span> https://insilico.hpc.uio.no/pcgr/<span class="va">${BUNDLE}</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="fu">gzip</span> <span class="at">-dc</span> <span class="va">${BUNDLE}</span> <span class="kw">|</span> <span class="fu">tar</span> xvf <span class="at">-</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">mkdir</span> <span class="va">${BUNDLE_VERSION}</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="fu">mv</span> data/ <span class="va">${BUNDLE_VERSION}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="vep-cache">2. VEP Cache<a class="anchor" aria-label="anchor" href="#vep-cache"></a>
</h3>
<p><a href="https://www.ensembl.org/info/docs/tools/vep/index.html" class="external-link">VEP</a>
requires a data cache which is available from the Ensembl <a href="https://ftp.ensembl.org/pub/release-112/variation/indexed_vep_cache/" class="external-link">FTP
site</a> (search there for files starting with
<code>homo_sapiens_vep_</code>). The latest Ensembl VEP version we
support is <strong>v112</strong>.</p>
<p><strong>Tip</strong>: PCGR needs to be pointed to the <em>parent</em>
directory containing the downloaded
<code>homo_sapiens/xyz_GRCh3x/</code> cache, which is usually called
<code>.vep</code> if you’ve followed the VEP cache <a href="https://www.ensembl.org/info/docs/tools/vep/script/vep_cache.html#cache" class="external-link">download
instructions</a>.</p>
<div class="section level4">
<h4 id="bash-example-1">Bash Example<a class="anchor" aria-label="anchor" href="#bash-example-1"></a>
</h4>
<pre><code><span><span class="va">VEP_VERSION</span><span class="op">=</span><span class="st">"112"</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="va">GENOME</span><span class="op">=</span><span class="st">"GRCh38"</span> <span class="co"># or "GRCh37"</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="va">CACHE</span><span class="op">=</span><span class="st">"homo_sapiens_vep_</span><span class="va">${VEP_VERSION}</span><span class="st">_</span><span class="va">${GENOME}</span><span class="st">.tar.gz"</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">wget</span> https://ftp.ensembl.org/pub/release-<span class="va">${VEP_VERSION}</span>/variation/indexed_vep_cache/<span class="va">${CACHE}</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fu">gzip</span> <span class="at">-dc</span> <span class="va">${CACHE}</span> <span class="kw">|</span> <span class="fu">tar</span> xvf <span class="at">-</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="sample-inputs">3. Sample Inputs<a class="anchor" aria-label="anchor" href="#sample-inputs"></a>
</h3>
<p>See the <a href="input.html">Inputs</a> article.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="software">Software<a class="anchor" aria-label="anchor" href="#software"></a>
</h2>
<p>The PCGR workflow can be installed with any of the following:</p>
<ul>
<li>A. <a href="https://conda.io/projects/conda/en/latest/user-guide/getting-started.html" class="external-link">Conda</a>,</li>
<li>B. <a href="https://docs.docker.com/" class="external-link">Docker</a>, or</li>
<li>C. <a href="https://apptainer.org/docs/user/latest/index.html" class="external-link">Singularity/Apptainer</a>.</li>
</ul>
<div class="section level3 tabset tabset-pills">
<h3 class="tabset tabset-pills" id="a--conda">A. Conda<a class="anchor" aria-label="anchor" href="#a--conda"></a>
</h3>
<p>There is Conda support for both Linux and macOS machines. The
following process can take anywhere from 10 up to 40 minutes when
installing from scratch, mostly depending on the user’s and server’s
internet connection. Most of the time is spent on downloading the
<code>{BSgenome.Hsapiens.UCSC.hg19}</code> and
<code>{BSgenome.Hsapiens.UCSC.hg38}</code> R packages (which happens at
the very end of the conda environment creation).</p>


<ul class="nav nav-pills" id="a--conda" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#linux" id="linux-tab" type="button" role="tab" aria-controls="linux" aria-selected="true" class="active nav-link">Linux</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#macos" id="macos-tab" type="button" role="tab" aria-controls="macos" aria-selected="false" class="nav-link">macOS</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="linux" role="tabpanel" aria-labelledby="linux-tab">

<pre><code><span><span class="va">PCGR_VERSION</span><span class="op">=</span><span class="st">"2.1.2"</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># set up variables</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="va">PCGR_REPO</span><span class="op">=</span><span class="st">"https://raw.githubusercontent.com/sigven/pcgr/v</span><span class="va">${PCGR_VERSION}</span><span class="st">/conda/env/lock/"</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="va">PLATFORM</span><span class="op">=</span><span class="st">"linux"</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="co"># create conda envs in local directory</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="fu">mkdir</span> pcgr_conda</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="ex">conda</span> create <span class="at">--prefix</span> ./pcgr_conda/pcgr <span class="at">--file</span> <span class="va">${PCGR_REPO}</span>/pcgr-<span class="va">${PLATFORM}</span>-64.lock</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="ex">conda</span> create <span class="at">--prefix</span> ./pcgr_conda/pcgrr <span class="at">--file</span> <span class="va">${PCGR_REPO}</span>/pcgrr-<span class="va">${PLATFORM}</span>-64.lock</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="co"># you need to specify the directory of the conda env when using --prefix</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="ex">conda</span> activate ./pcgr_conda/pcgr</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="co"># test that it works</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="ex">pcgr</span> <span class="at">--version</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="ex">pcgr</span> <span class="at">--help</span></span></code></pre></div>
</div>
<div class="tab-pane" id="macos" role="tabpanel" aria-labelledby="macos-tab">

<p>For macOS M1 machines, you need to include
<code>CONDA_SUBDIR=osx-64</code> before the <code>conda create</code>
command - see <a href="https://github.com/conda-forge/miniforge/issues/165#issuecomment-860233092" class="external-link uri">https://github.com/conda-forge/miniforge/issues/165#issuecomment-860233092</a>:</p>
<pre><code><span><span class="va">PCGR_VERSION</span><span class="op">=</span><span class="st">"2.1.2"</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># set up variables</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="va">PCGR_REPO</span><span class="op">=</span><span class="st">"https://raw.githubusercontent.com/sigven/pcgr/v</span><span class="va">${PCGR_VERSION}</span><span class="st">/conda/env/lock/"</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="va">PLATFORM</span><span class="op">=</span><span class="st">"osx"</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co"># create conda envs in local directory</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="fu">mkdir</span> pcgr_conda</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="va">CONDA_SUBDIR</span><span class="op">=</span>osx-64 <span class="ex">conda</span> create <span class="at">--prefix</span> ./pcgr_conda/pcgr <span class="at">--file</span> <span class="va">${PCGR_REPO}</span>/pcgr-<span class="va">${PLATFORM}</span>-64.lock</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="va">CONDA_SUBDIR</span><span class="op">=</span>osx-64 <span class="ex">conda</span> create <span class="at">--prefix</span> ./pcgr_conda/pcgrr <span class="at">--file</span> <span class="va">${PCGR_REPO}</span>/pcgrr-<span class="va">${PLATFORM}</span>-64.lock</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="co"># you need to specify the directory of the conda env when using --prefix</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="ex">conda</span> activate ./pcgr_conda/pcgr</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="co"># test that it works</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="ex">pcgr</span> <span class="at">--version</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="ex">pcgr</span> <span class="at">--help</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="b--docker">B. Docker<a class="anchor" aria-label="anchor" href="#b--docker"></a>
</h3>
<p>The PCGR Docker image is available on <a href="https://hub.docker.com/r/sigven/pcgr/tags" class="external-link">Docker Hub</a>. Pull
the latest <strong>v2.1.2</strong> image with:</p>
<pre><code>docker pull sigven/pcgr:2.1.2</code></pre>
<div class="section level4">
<h4 id="example-run">Example Run<a class="anchor" aria-label="anchor" href="#example-run"></a>
</h4>
<pre><code><span><span class="va">PCGR_VERSION</span><span class="op">=</span><span class="st">"2.1.2"</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">docker</span> container run <span class="at">-it</span> <span class="at">--rm</span> <span class="dt">\</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>    <span class="at">-v</span> /Users/you/dir1/.vep:/mnt/.vep</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>    <span class="ex">-v</span> /Users/you/dir1/bundle:/mnt/bundle <span class="dt">\</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>    <span class="at">-v</span> /Users/you/dir1/pcgr_inputs:/mnt/pcgr_inputs <span class="dt">\</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>    <span class="at">-v</span> /Users/you/dir1/pcgr_outputs:/mnt/pcgr_outputs <span class="dt">\</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>    sigven/pcgr:<span class="va">${PCGR_VERSION}</span> <span class="dt">\</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>    pcgr <span class="dt">\</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>      <span class="at">--input_vcf</span> <span class="st">"/mnt/pcgr_inputs/T001-BRCA.grch38.vcf.gz"</span> <span class="dt">\</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>      <span class="at">--vep_dir</span> <span class="st">"/mnt/.vep"</span> <span class="dt">\</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>      <span class="at">--refdata_dir</span> <span class="st">"/mnt/bundle"</span> <span class="dt">\</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>      <span class="at">--output_dir</span> <span class="st">"/mnt/pcgr_outputs"</span> <span class="dt">\</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>      <span class="at">--genome_assembly</span> <span class="st">"grch38"</span> <span class="dt">\</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>      <span class="at">--sample_id</span> <span class="st">"SAMPLE_B"</span> <span class="dt">\</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>      <span class="at">--tumor_dp_tag</span> <span class="st">"TDP"</span> <span class="dt">\</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>      <span class="at">--tumor_af_tag</span> <span class="st">"TAF"</span> <span class="dt">\</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>      <span class="at">--assay</span> <span class="st">"WGS"</span> <span class="dt">\</span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>      <span class="at">--vcf2maf</span></span></code></pre></div>
<p><strong>NOTE</strong>: If you need to run the Docker-based version of
PCGR as a non-root user, you may need to explicitly add options for
quarto to work properly, i.e. 
<code>--env "XDG_CACHE_HOME=/tmp/quarto_cache_home"</code> (same as for
Singularity/Apptainer below, see also <a href="https://github.com/sigven/pcgr/issues/246" class="external-link">issue #246</a>).
<br><br></p>
</div>
</div>
<div class="section level3">
<h3 id="c--singularityapptainer">C. Singularity/Apptainer<a class="anchor" aria-label="anchor" href="#c--singularityapptainer"></a>
</h3>
<p>The PCGR Singularity/Apptainer image is available on <a href="https://ghcr.io/sigven/pcgr" class="external-link">GitHub Container Registry</a>. Pull
the latest <strong>v2.1.2</strong> image with:</p>
<pre><code>apptainer pull oras://ghcr.io/sigven/pcgr:2.1.2.singularity</code></pre>
<p>This will download a Singularity Image File (SIF) called
<strong>pcgr_2.1.2.singularity.sif</strong> that can be run with
Singularity or Apptainer.</p>
<div class="section level4">
<h4 id="example-run-1">Example Run<a class="anchor" aria-label="anchor" href="#example-run-1"></a>
</h4>
<pre><code><span><span class="va">PCGR_VERSION</span><span class="op">=</span><span class="st">"2.1.2"</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">apptainer</span> exec <span class="dt">\</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="at">--writable-tmpfs</span> <span class="dt">\</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  <span class="at">--no-home</span> <span class="dt">\</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>  <span class="at">--env</span> <span class="st">"XDG_CACHE_HOME=/tmp/quarto_cache_home"</span> <span class="dt">\</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>  <span class="at">-B</span> /Users/you/dir1/.vep:/mnt/.vep <span class="dt">\</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>  <span class="at">-B</span> /Users/you/dir1/bundle:/mnt/bundle <span class="dt">\</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>  <span class="at">-B</span> /Users/you/dir1/pcgr_inputs:/mnt/pcgr_inputs <span class="dt">\</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>  <span class="at">-B</span> /Users/you/dir1/pcgr_outputs:/mnt/pcgr_outputs <span class="dt">\</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>  pcgr_<span class="va">${PCGR_VERSION}</span>.singularity.sif <span class="dt">\</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>  pcgr <span class="dt">\</span></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a>    <span class="at">--input_vcf</span> <span class="st">"/mnt/pcgr_inputs/T001-BRCA.grch38.vcf.gz"</span> <span class="dt">\</span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>    <span class="at">--vep_dir</span> <span class="st">"/mnt/.vep"</span> <span class="dt">\</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>    <span class="at">--refdata_dir</span> <span class="st">"/mnt/bundle"</span> <span class="dt">\</span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a>    <span class="at">--output_dir</span> <span class="st">"/mnt/pcgr_outputs"</span> <span class="dt">\</span></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a>    <span class="at">--genome_assembly</span> <span class="st">"grch38"</span> <span class="dt">\</span></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a>    <span class="at">--sample_id</span> <span class="st">"SAMPLE_B"</span> <span class="dt">\</span></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a>    <span class="at">--assay</span> <span class="st">"WGS"</span> <span class="dt">\</span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a>    <span class="at">--tumor_dp_tag</span> <span class="st">"TDP"</span> <span class="dt">\</span></span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a>    <span class="at">--tumor_af_tag</span> <span class="st">"TAF"</span> <span class="dt">\</span></span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a>    <span class="at">--vcf2maf</span></span></code></pre></div>
<p><strong>Note</strong>: For any Apptainer/Singularity issues not
directly related to PCGR, we would recommend reaching out to the
Apptainer community (e.g. <a href="https://github.com/apptainer/apptainer" class="external-link uri">https://github.com/apptainer/apptainer</a>) since we have
limited experience with Apptainer/Singularity.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/sigven" class="external-link">Sigve Nakken</a>, <a href="https://github.com/pdiakumis" class="external-link">Peter Diakumis</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
